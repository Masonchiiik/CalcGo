# Сервис подсчёта арифметических выражений


CalcGo — это простой и эффективный веб-сервис на Go для вычисления арифметических выражений. Подходит для интеграции с другими приложениями и учебных проектов.

Данный интерфейс представляет собой API-интерфейс, реализованный на Go, который позволяет отправлять POST-запросы с телом:

```json
{
    "expression": "выражение"
}
```

и получать ответ вида:

```json
{
    "result": "результат"
}
```

---
## Установка

Скачайте репозиторий, например через git: `git clone https://github.com/Masonchiiik/CalcGo.git `

---

## Как использовать

1. Перейдите в директорию проекта и введите в командную строку `go run cmd/main.go`. Или скомпилируйте файл командой `go build cmd/main.go` и запустите полученный исполняемый файл.
2. Отправьте POST-запрос (например, через curl) на URL: `localhost:8080/api/v1/calculate`.
3. Получите ответ.

---

## Примеры использования(советуем использовать git bash)

### Успешный запрос

**Пример запроса через curl:**

```bash
curl --location 'localhost:8080/api/v1/calculate' --header 'Content-Type: application/json' --data '{"expression":"2*2+2"}'
```

**Пример ответа:**

```json
{
    "result": "6"
}
```

**HTTP-код ответа:** `200` (всё прошло успешно).

---

### Ошибка 422 (Некорректное выражение)

**Пример запроса через curl:**

```bash
curl --location 'localhost:8080/api/v1/calculate' --header 'Content-Type: application/json' --data '{"expression":"0.25+0.251++"}'
```

**Пример ответа:**

```json
{
    "error": "Expression is not valid"
}
```

**HTTP-код ответа:** `422` (Unprocessable Entity).


---
### Ошибка 405 (Неподдерживаемый запрос)

**Пример запроса через curl:**

```bash
curl --location --request GET 'localhost:8080/api/v1/calculate' --header 'Content-Type: application/json' --data '{"expression":"21-12-81+24+72*42/3"}'
```

**Пример ответа:**

```json
{
    "error": "Only POST method available"
}
```

**HTTP-код ответа:** `405` (Method not allowed)

---

## Конфигурация

Вы можете изменить порт на кастомный(изначально: ":8080"), для этого откройте файл `config.go` и измените значение

---
## Примечания

- Поддерживаются стандартные арифметические операции: сложение, вычитание, умножение, деление и скобки для изменения порядка операций.
- Поддерживаются целые положительные числа, использование унарного минуса(или плюса) приведёт к некорректной работе программы
- Поддерживаются только POST-запросы, отправка других приведёт к ошибке.
- Рекомендуем для тестирования использовать Postman, так как с curl могут быть проблемы

